<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level Creator</title>
    <link rel="stylesheet" href="levelCreatorStyle.css">


</head>
<body>
    <div class="container">
        <h1>Level Creator</h1>
		<div>    
			<label for="gameName">Game Name: </label>
			<input type="text" id="gameName" value="Super Dungeon"/>
	       <button id="btnSave" onclick="saveSet()" >save</button> 
        </div>
<div class="gridParent">
<div class="leftPanel">
<h2>Level List</h2>
<select name="levels" onchange="changeLevel()" title="Level List" id="levelSelect" size="20"></select>
<button id="btnNew" onclick="levelNew()" >New</button>
<button id="btnCopy" onclick="levelCopy()">Copy</button>
<button id="btnDelete" onclick="levelDelete()">Delete</button>
<button id="btnSort" onclick="sortLevelList()">Sort</button>
</div>
<div class="mainBody">
	<div>
		<h2>Level Settings</h2>
		<div>
			<div class="floatGroup">
				<label for="inputLevelId">Level ID:</label>
                <input type="text" onchange="updateID()" id="inputLevelId" placeholder="uniqueIdentifier" >
			</div>
			<div class="floatGroup">
				<label for="nextLevelSelect">Next level:</label>
				<select name="nextLevelId" id="nextLevelSelect"  onchange="updateNext()" ></select>
			</div>
			<div class="floatGroup">
                <label for="inputRows">Rows:</label>
                <input type="number" id="inputRows" min="1" max="12" value="6" aria-describedby="rowsHelp">
            </div>
			<div class="floatGroup">
			<label for="inputCols">Cols:</label>
                <input type="number" id="inputCols" min="1" max="12" value="6" aria-describedby="colsHelp">
            </div>
			<div class="floatGroup">
			<button id="btnCreateGrid">Create Grid</button>
			</div>
		</div>
		</div>
		<div>
         <h2>Tools</h2>
				<button class="item-btn" id="btnSelect" data-item="select">Select (I)</button>
                <button class="item-btn" data-item="eraser" >Eraser (E)</button>
                <button class="item-btn" data-item="wall" >Wall (W)</button>
                <button class="item-btn" data-item="monster" >Monster (M)</button>
                <button class="item-btn" data-item="treasure" >Treasure (T)</button>
                <button class="item-btn" data-item="key" >Key (K)</button>
                <button class="item-btn" data-item="door">Door (D)</button>
                <button class="item-btn" data-item="exit" >Exit (X)</button>
				<button class="item-btn" data-item="stairs" >Stairs (U)</button>
                <button class="item-btn" data-item="potion" >Potion (P)</button>
                <button class="item-btn" data-item="void">Void (V)</button>
                <button class="item-btn" data-item="shop" >Shop (S)</button>
                <button class="item-btn" data-item="villager" >Villager (L)</button>
				<button class="item-btn" data-item="gameEnd" >Game End (N)</button>
         </div>
		<div>		 
			<h2>Cell Properties</h2>
            <div id="monsterLibraryContainer" >
				
                    <div class="floatGroup">
                        <label for="monsterName" > monster Name:     </label>
                            <input id="monsterName" placeholder="Name" />
					</div>
                    <div class="floatGroup">
                        <label for="monsterHP" >
                            <span >HP</span></label>
                            <input class="spinbox" id="monsterHP" type="number" min="1" value="6"  />
                    </div>
					<div class="floatGroup">
                        <label for="monsterATK" >
                            <span >ATK</span></label>
                            <input class="spinbox" id="monsterATK" type="number" min="0" value="2" />
                    </div>
					
					<div class="floatGroup">
                        <label for="monsterDEF" >
                            <span >DEF</span></label>
                            <input id="monsterDEF"  class="spinbox" type="number" min="0" value="0" />
                    </div>
					
                    <div class="floatGroup">
						<div class="floatGroup">
							<label for="monsterDesc1">Attack description 1</label>
							<input id="monsterDesc1" placeholder="Description 1 (attacked)" />
						</div>
						<div class="floatGroup">
							<label for="monsterDesc2">Description 2</label>
							<input id="monsterDesc2" placeholder="Description 2 (attacked)"  />
						</div>
						<div class="floatGroup">
							<label for="monsterDesc3">Description 3</label>
							<input id="monsterDesc3" placeholder="Description 3 (attacked)"  />
						</div>
                    </div>	
					<div class="floatGroup">
						<div class="floatGroup">
						<label for="monRewKind">Reward type:</label>
						<select id="monRewKind">
							<option value="gold">Gold</option>
							<option value="strength">Strength</option>
							<option value="defense">Defense</option>
							<option value="life">Life</option>
						</select>
						</div>
						<div class="floatGroup">
						<label for="monRewValue">Value:</label>
						<input  id="monRewValue" type="number" min="1" class="number" value="25" />
						</div>
						<div class="floatGroup">
						<label for="monRewDesc">Reward description: </label>
						<input id="monRewDesc"/>
					</div></div>
					<div class="floatGroup">
						<div class="floatGroup">
						<label for="monSound">sound clue</label>
						<input id="monSound" value="growling"></input>
						</div>
						
						<div class="floatGroup">
						
						<label for="monIcon">Icon</label>
						<select onChange="updateMonIcon()"  id="monIcon" >
						<option  value="monster">monster</option>
						</select>
						<div id="monIconDisplay"></div>
						<input type="file" onchange="addMonIcon()" style="width: 10em; height: 3em;" id="monAddIcon" accept=".svg" />
						</div>
						
					</div>
					<div style="clear: both;">
                        <button id="btnAddMonster">Add Monster</button>
                        <button id="btnCancelEdit" >New monster</button>
					</div>
				<div class="floatGroup">
				<div id="monsterParent">
                    <table id="monsterList" class="monster-list">
						
					</table>
                </div>
				</div>
            </div>


            <div id="treasureConfig">
                <label onchange="treasureUpdate()" for="treasureKind">Treasure type:</label>
                <select  onchange="treasureUpdate()"  id="treasureKind">
                    <option value="gold">Gold</option>
                    <option value="strength">Strength</option>
                    <option value="defense">Defense</option>
                </select>
                <label for="treasureValue">Value:</label>
                <input  onchange="treasureUpdate()" id="treasureValue" type="number" min="1" value="25" />
                <span >Set the amount of gold or the buff amount.</span>
            </div>

			<div id="shopConfig">
			    <div class="floatGroup">
					<label for="shopName" > Shop Name:     </label>
                    <input id="shopName" placeholder="the ..." />
					</div>
                <label onchange="shopUpdate()" for="shopKind">shop type:</label>
                <select  onchange="shopUpdate()"  id="shopKind">
					<option value="gold">gold</option>
                    <option value="strength">Strength</option>
                    <option value="defense">Defense</option>
					<option value="life">Life</option>
                </select>
                <label for="shopValue">Value:</label>
                <input  onchange="shopUpdate()" class="number" id="shopValue" type="number" min="1" value="25" />
				  <label for="shopCost">cost:</label>
                <input  onchange="shopUpdate()" class="number" id="shopCost" type="number" min="1" value="25" />
				<label onchange="shopUpdate()" for="shopCurrency">Currency:</label>
                <select  onchange="shopUpdate()"  id="shopCurrency">
					<option value="gold">gold</option>
                    <option value="strength">Strength</option>
                    <option value="defense">Defense</option>
					<option value="life">Life</option>
					
                </select>
				<div style="width: fit-content;">
				<label for="shopIcon">Icon</label>
				<select onChange="updateShopIcon()"  id="shopIcon" >
				<option  value="villager">villager</option>
				</select>
				<div id="shopIconDisplay"></div>
				<input type="file" onchange="addShopIcon()" style="width: 10em; height: 3em;" id="shopAddIcon" accept=".svg" />
				</div>
				<div style="clear: both;">
                        <button id="btnAddShop">Add Shop</button>
                        <button id="btnCancelShop" >New Shop</button>
					</div>
				<div id="shopParent">
                    <table id="shopList" class="monster-list">
						
					</table>
                </div>
				
            </div>



            <div id="stairConfig" >
                <label for="stairLevelSelect">Target Level:</label>
                <select  onchange="stairUpdate()"  id="stairLevelSelect">
                </select>
                <label for="stairCellSelect">Target Cell:</label>
                <select  onchange="stairUpdate()" id="stairCellSelect"/></select>
          </div>

            <div id="keyConfig" >
                <label for="keyLevelSelect">Key Level:</label>
                <select  onchange="keyUpdate()"  id="keyLevelSelect">
                </select>
            </div>


            <div  id="potionConfig" >
                <label for="potionHeal">Potion heal:</label>
                <input id="potionHeal" type="number" min="1" value="10" />
                <span >Amount of life restored when drinking this potion.</span>
            </div>

            <div  id="villagerConfig" >
                <label for="villagerText">Villager text:</label>
                <input id="villagerText" onchange="villagerUpdate()" type="text" placeholder="Villager says..."  />
                <label for="villagerKind">Reward type:</label>
                <select id="villagerKind" onchange="villagerUpdate()" >
                    <option value="gold">Gold</option>
                    <option value="strength">Strength</option>
                    <option value="defense">Defense</option>
                </select>
                <label for="villagerValue">Value:</label>
                <input onchange="villagerUpdate()" id="villagerValue" type="number" min="1" value="25" />
                <span >Villager spoken text and an optional reward amount.</span>
            </div>

            <div  id="customWallConfig" >
                <label for="customWallName">Custom wall name:</label>
                <input id="customWallName" onchange="updateWallName()" type="text" placeholder="e.g. Stone Hedge"  />
                <span >Optional name shown in the editor and exports.</span>
				<div style="width: fit-content;">
				<label for="wallIcon">Icon</label>
				<select onChange="updateWallIcon()"  id="wallIcon" >
				<option  value="wall">wall</option>
				</select>
				<div id="wallIconDisplay"></div>
				<input type="file" onchange="addWallIcon()" style="width: 10em; height: 3em;" id="wallAddIcon" accept=".svg" />
				</div>
            </div>
			<div class="floatGroup">
                <label for="inputDesc">Cell description:</label>
                <input type="text" id="inputDesc" placeholder="Enter description for selected cell"  aria-describedby="descHelp">
                <button id="btnSetDesc">Set Description</button>
            </div>
        </div>
</div>
<div class="rightPanel">
        <div class="grid-section">
           <H2>Level Grid</H2>
            <table id="grid" title="game grid"  ></table>
            <div id="gridAnnouncer" aria-live="polite" aria-atomic="true"> </div>
     
</div>
        <div>
            <div >
       
                <button id="btnGenerateSVG" class="gen-btn" >Download SVG Map</button>
                <button id="btnGenerateWallsSVG" class="gen-btn" >Download Wall Only Map</button>
            </div>
            
        </div>
    </div>

        <!-- Help text for form fields (hidden but available to screen readers) -->
        <div class="sr-only">
            <div id="rowsHelp">Enter a number between 1 and 12 for the number of grid rows.</div>
            <div id="colsHelp">Enter a number between 1 and 12 for the number of grid columns.</div>
            <div id="descHelp">Optional. Enter a text description or hint for the currently selected grid cell. This description will be shown to the player when they visit that cell.</div>
        </div></div>

<script src="levels.js"></script>

<script src="levelCreator.js"></script>


</body>
</html>